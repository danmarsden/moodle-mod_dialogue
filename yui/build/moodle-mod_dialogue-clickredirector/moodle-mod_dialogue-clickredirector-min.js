YUI.add("moodle-mod_dialogue-clickredirector",function(e,t){M.mod_dialogue=M.mod_dialogue||{},M.mod_dialogue.clickredirector={cmid:null,modroot:M.cfg.wwwroot+"/mod/dialogue/",init:function(t){this.cmid=t;var n=e.all(".conversation-list tr");n.on("click",e.bind(this.handle,this))},handle:function(e){var t=[],n,r,i,s,o;t.id=this.cmid,n=e.currentTarget.getAttribute("data-redirect");if(!n)return new M.core.exception({name:"data-redirect not defined as attribute"});r=e.currentTarget.getAttribute("data-action"),r&&(t.action=r),i=e.currentTarget.getAttribute("data-conversationid"),i&&(t.conversationid=i),s=e.currentTarget.getAttribute("data-messageid"),s&&(t.messageid=s);var u=[];for(var a in t)u.push(a+"="+t[a]);return o=this.modroot+n+".php?"+u.join("&"),e.ctrlKey||e.metaKey?(window.getSelection&&window.getSelection().removeAllRanges(),window.open(o,"_blank")):window.location.href=o}}},"@VERSION@",{requires:["base","node","json-parse","clickredirector","clickredirector-filters","clickredirector-highlighters","event","event-key"]});
